:root{
  --bg:#ffffff; --text:#222; --muted:#666;
  --panel:#fafafa; --border:#e6e8eb;
  --accent:#2ecc71; --accent-600:#1e9f4d;
  --warn:#f39c12; --danger:#e74c3c; --danger-700:#c0392b;
  --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:"Segoe UI", Arial, sans-serif;
  display:flex; align-items:center; justify-content:center;
  padding:28px 16px;
}

.main{
  width:100%;
  max-width:720px;
  display:flex; flex-direction:column; align-items:center; gap:14px;
  margin:0 auto;
}

.logo{
  width:84px; height:84px; border-radius:20px;
  display:block; margin:6px auto 2px;
  box-shadow:var(--shadow);
}
.room-label{
  text-align:center; font-weight:700; letter-spacing:.3px;
  font-size:1.06rem; margin:0;
}
.room-id{
  color:var(--accent);
  font-family:ui-monospace,SFMono-Regular,Menlo,monospace;
  font-size:.95rem; padding:2px 8px; margin-left:6px;
  background:#eefaf2; border:1px solid #def3e5; border-radius:8px;
}

.qr,
.chat,
.room-controls,
.input-bar{ width:100% }

.card{
  background:linear-gradient(#fff,#fdfdfd);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
}

.qr{
  height:180px; max-width:260px; width:180px;
  align-self:center;
  background:#fff;
  border:1px solid var(--border);
  border-radius:12px;
  margin-top:6px;
}

.room-controls{
  display:flex; flex-wrap:wrap; gap:10px;
  align-items:center; justify-content:center;
  padding:10px 0 2px;
}
.room-controls input{
  padding:10px 14px; border:1.5px solid var(--border); border-radius:10px;
  font-size:1rem; outline:none; background:#fff; min-width:240px; text-align:center;
}
.room-controls button,
.room-controls .tip-btn{
  font-size:1rem; background:var(--accent); color:#fff; border:none;
  border-radius:10px; padding:10px 18px; font-weight:600; cursor:pointer;
  text-decoration:none; transition:filter .15s;
}
.room-controls button#clearChatBtn{ background:var(--danger) }
.room-controls button#clearChatBtn:hover{ filter:brightness(.95) }
.room-controls button:hover,
.room-controls .tip-btn:hover{ filter:brightness(1.06) }

.chat{
  background:var(--panel); border:1.5px solid var(--border);
  border-radius:12px; padding:14px 10px 10px;
  max-height:50vh; min-height:220px; overflow-y:auto; font-size:1rem;
}
.message{ margin:12px 0; word-break:break-word }
.pin-msg{
  background:#fffbe7; border-left:5px solid var(--warn);
  padding:9px 10px; margin:12px 0; border-radius:8px; font-size:1rem;
}
.sender{ font-weight:700; color:var(--accent) }

.input-bar{
  display:flex; gap:10px; align-items:center; justify-content:center;
}
.input-bar input{
  flex:1; max-width:520px; font-size:1rem; padding:12px;
  border-radius:10px; border:1.5px solid #ddd; outline:none; background:#fff;
}
.input-bar button{
  font-size:1rem; padding:12px 16px; border-radius:10px; border:none;
  background:var(--accent); color:#fff; cursor:pointer; font-weight:600;
  transition:filter .15s;
}
.input-bar button#pinDropBtn{ background:var(--warn); padding:12px 14px }
.input-bar button#sendBtn:hover{ filter:brightness(1.06) }
.input-bar button#pinDropBtn:hover{ filter:brightness(.95) }

:focus-visible{
  outline:3px solid #93c5fd; outline-offset:2px;
}

@media (max-width:600px){
  body{ padding:18px 8px }
  .main{ max-width:100vw; gap:12px }
  .logo{ width:76px; height:76px }
  .qr{ width:130px; height:130px }
  .chat{ font-size:.98rem; min-height:160px; max-height:44vh; padding:10px 6px 8px }
  .room-controls input,
  .room-controls button,
  .room-controls .tip-btn,
  .input-bar input,
  .input-bar button{
    font-size:.96rem; padding:10px; border-radius:9px
  }
}

@media (prefers-color-scheme: dark){
  :root{
    --bg:#0b0f14; --text:#e8eef9; --muted:#a3adc2;
    --panel:#0f1720; --border:#1a2636;
    --accent:#3ddc84; --accent-600:#2fb56d;
    --warn:#f59e0b; --danger:#ef4444; --danger-700:#dc2626;
    --shadow:0 12px 36px rgba(2,6,23,.4);
  }
  .room-id{ background:#0d1a12; border-color:#16351f }
}
